% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mw-variance.R
\name{mw.variance}
\alias{mw.variance}
\title{Compute moving‐window standard deviations for an AMS data frame}
\usage{
mw.variance(data, years, window_length = 10, window_step = 5)
}
\arguments{
\item{window_length}{Integer(1). The number of consecutive rows in each moving
window. Must be a positive integer less than or equal to \code{nrow(df)}.
Defaults to \code{10}. If \code{nrow(df) < window_length}, an error is raised.}

\item{window_step}{Integer(1). The offset (in rows) between the start of
successive windows. Must be a positive integer. Defaults to \code{5}.}

\item{df}{A data.frame (or tibble) containing at least two numeric columns:
\describe{
\item{year}{Numeric or integer vector of years.}
\item{max}{Numeric vector of annual maximum values.}
}
If either column is missing or not numeric, the function will throw an error.}
}
\value{
A data.frame with two columns:
\describe{
\item{year}{Numeric. The mean of \code{df$year} within each window.}
\item{std}{Numeric. The standard deviation of \code{df$max} within each window,
computed with \code{na.rm = TRUE}.}
}
Each row corresponds to one window. The number of rows equals
\code{floor((nrow(df) - window_length) / window_step) + 1}.
}
\description{
This function calculates the standard deviation of the annual maximum series
(“max”) in non‐overlapping (or partially overlapping) moving windows, returning
a data frame that pairs each window’s mean “year” with its computed standard
deviation. The window parameters control the length and step size.
}
